# Introduction

ldbc_socialnet_qgen is part of the LDBC project (http://www.ldbc.eu/).

## Compilation

The compilation uses Apache Ant to automatically build the application. See: ant.apache.org.

Make sure you are in your ldbc_socialnet_bm/ldbc_socialnet_qgen/ project folder.
To compile the project, from command line just run:
ant
Before that, maybe you have to execute the script classpath.sh:
. ./classpath.sh

This can lead to the generation of a jar in the lib folder (bibm.jar).

##Execution

To execute ldbc_socialnet_qgen, the sibdriber script is provided.
You can refer to the sibdriver.readme to see a clearer example of how to run it.

Options:

Openlink BIBM Test Driver 0.7.7
Usage: com.openlinksw.bibm.SIB.TestDriver <options> endpoints...
endpoint: The URL of the HTTP SPARQL or SQL endpoint
	-dbdriver <DB-Driver Class Name>
		default: com.mysql.jdbc.Driver
	-defaultparams
		use default query parameters 
	-dg <default graph>
		add &default-graph-uri=<default graph> to the http request
	-dry-run
		makes parameter substition in queries but does not actually runs them.
		Implies -printres option
	-err-log
		log file name to write error messages
		default: print errors only to stderr
	-help
		prints this help message
	-idir <data input directory>
		The input directory for the Test Driver data
		default: td_data
	-mt <Number of clients>
		Run multiple clients concurrently.
		default: 1
	-o <benchmark results output file>
		default: benchmark_result.xml
	-printres
		include results into the log
	-q
		generate output qualification file with the default name (run.qual)
	-qcf <input qualification file name>
		To turn on comparison of resultst.
		default: none.
	-qf <output qualification file name>
		generate output qualification file with this name
	-qrd <query root directory>
		Where to look for the directoried listed in the use case file.
		default: current working directory
	-retry-int <time interval between attempts to replay query (milliseconds)>
		Increases by 1.5 times for each subsequent attempt.
		default: 200 ms
	-retry-intmax <upper bound of time interval between attempts to replay query (milliseconds)>
		If set, actual retry-int is picked up randomly between set retry-int and retry-intmax
		default: equals to retry-int
	-retry-max <number of attemts to replay query if deadlock error message received>
		default: 3
	-retry-msg <message from server indicating deadlock>
		default: <null, that does not match any string>
	-runs <number of query mix runs>
		default: the number of clients
	-seed <Long Integer>
		Init the Test Driver with another seed than the default.
		default: 808080
	-sql
		use JDBC connection to a RDBMS. Instead of a SPARQL-Endpoint, a JDBC URL has to be supplied.
		default: not set
	-sut <sutcommand>
		Measures the server's CPU time using external program.
		<sutcommand> - the command to run external program, arguments delimited with comma
	-t <timeout in ms>
		Timeouts will be logged for the result report.
		default: 0
	-u <Sparql Update Service Endpoint URL>
		Use this if you have SPARQL Update queries in your query mix.
	-uc <use case query mix directory>
		Directly specifies a query mix directory.
		Can be used several times, and with -ucf optionDirectly specifies a query mix directory.
	-ucf <use case file name>
		Specifies where the use case description file can be found.
	-udataset <update dataset file name>
		Specified an update file generated by the SIB dataset generator.
	-uqp <update query parameter>
		The forms parameter name for the query string.
		default: update
	-url <common prefix for all endpoints>
		url <common prefix for all endpoints>
		default: empty string
	-version
		prints the version of the Test Driver
	-w <number of warm up runs before actual measuring>
		default: 0
	-wud
		allow updates during warmups

