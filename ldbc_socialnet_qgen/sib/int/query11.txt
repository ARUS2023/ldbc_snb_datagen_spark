select  %OtherDetails% ?first ?last ?startdate ?org ?fr 
where {
    ?w snvoc:hasOrganisation ?org .
    ?org snvoc:isLocatedIn %Country% .
    ?fr snvoc:workAt ?w .
    ?w snvoc:workFrom ?startdate .
    filter (?startdate < "%Date0%"^^xsd:string) .
    {  select distinct ?fr
       from <sib>
       where {
           {%Person% snvoc:knows ?fr.} union {%Person% snvoc:knows ?fr2. ?fr2 snvoc:knows ?fr}
       }
    } .
    ?fr snvoc:firstName ?first .
    ?fr snvoc:lastName ?last .
}
order by ?startdate
limit 10


